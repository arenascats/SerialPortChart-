[
  {
    "Id": "256520",
    "ThreadId": "74955",
    "Html": "<p>Hi,</p>\r\n<p>I'm playing with the ColumnChartSample and so far, things are great. &nbsp;One thing that I have run into is the following: the&nbsp;<span style=\"background-color:#ffffff\">ViewportPanel.ViewportWidth is set to a default in the&nbsp;TemplateMarkerGenerator, but I need to change it based on a value in my data which gets calculated (based on the min and max x values I have) when the UserControl is loaded. &nbsp;</span></p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre><span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">d3</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">ChartPlotter</span> <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">plotter</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Visible</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">0,0,1,1</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Grid.ColumnSpan</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">2</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Margin</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">30</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">SnapsToDevicePixels</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">True</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n\t<span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">d3</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">ColumnChart</span> <span style=\"color:Red\">x:Name</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">chart</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">ItemsSource</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{Binding}</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">MarkerBuilderChanged</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">chart_MarkerBuilderChanged</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n\t\t<span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">d3</span><span style=\"color:Blue\">:</span><span style=\"color:#A31515\">TemplateMarkerGenerator</span> <span style=\"color:Red\">Custom:SelectiveScrollingGrid.SelectiveScrollingOrientation</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">Horizontal</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n\t\t\t<span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">DataTemplate</span><span style=\"color:Blue\">&gt;</span>\r\n\t\t\t\t<span style=\"color:Blue\">&lt;</span><span style=\"color:#A31515\">Rectangle</span> <span style=\"color:Red\">Fill</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">{d3:SelfBinding (d3:PointChartBase.Index), Converter={StaticResource fillsConverter}}</span><span style=\"color:Black\">&quot;</span>\r\n\t\t\t\t\t<span style=\"color:Red\">d3:ViewportPanel.ViewportWidth</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">1</span><span style=\"color:Black\">&quot;</span> <span style=\"color:Red\">Margin</span><span style=\"color:Blue\">=</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">0,0,1,0</span><span style=\"color:Black\">&quot;</span><span style=\"color:Blue\">&gt;</span>\r\n\t\t\t\t\t...\r\n\t\t\t\t\t...\r\n</pre>\r\n</div>\r\n<p>In my code behind, I have been unsuccessfully trying to set the property as follows</p>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span>&lt;d3:ChartPlotter Name=&quot;plotter&quot; Visible=&quot;0,0,100,1&quot; Grid.ColumnSpan=&quot;2&quot; &gt;</div>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span>&lt;d3:ColumnChart Name=&quot;chart&quot; ItemsSource=&quot;{Binding}&quot;&gt;</div>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span>&lt;d3:TemplateMarkerGenerator&gt;</div>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span>&lt;DataTemplate&gt;</div>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span>&lt;Rectangle Fill=&quot;{d3:SelfBinding (d3:PointChartBase.Index), Converter={StaticResource fillsConverter}}&quot;</div>\r\n<div id=\"_mcePaste\" style=\"left:-10000px;top:0px;width:1px;height:1px;overflow-x:hidden;overflow-y:hidden\"><span style=\"white-space:pre\"> </span> &nbsp; d3:ViewportPanel.ViewportWidth=&quot;1&quot;</div>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>chart.AddPropertyBinding&lt;Point&gt;(ViewportPanel.ViewportWidthProperty,\r\n    p =&gt; {\r\n        <span style=\"color:Green\">// I have a myMarkerWidth (type: double) that I would like to use here,</span>\r\n        <span style=\"color:Green\">// but I cannot get it to work.</span>\r\n        <span style=\"color:Blue\">return</span> myMarkerWidth;\r\n    }\r\n);\r\n\r\n</pre>\r\n</div>\r\n<div>but when I run, I encounter the following exception:</div>\r\n<div>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>System.InvalidCastException was unhandled\r\n  Message=<span style=\"color:#A31515\">&quot;Specified cast is not valid.&quot;</span>\r\n  Source=<span style=\"color:#A31515\">&quot;DynamicDataDisplay.Markers&quot;</span>\r\n  StackTrace:\r\n       at DynamicDataDisplay.Markers.DataSources.ValueConverters.GenericLambdaConverter`2.Convert(Object value, Type targetType, Object parameter, CultureInfo culture) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DataSources\\ValueConverters\\GenericLambdaConverter.cs:line 26\r\n       at System.Windows.Data.BindingExpression.TransferValue(Object newValue, Boolean isASubPropertyChange)\r\n       at System.Windows.Data.BindingExpression.Activate(Object item)\r\n       at System.Windows.Data.BindingExpression.AttachToContext(AttachAttempt attempt)\r\n       at System.Windows.Data.BindingExpression.AttachOverride(DependencyObject target, DependencyProperty dp)\r\n       at System.Windows.Data.BindingExpressionBase.Attach(DependencyObject target, DependencyProperty dp)\r\n       at System.Windows.Data.BindingExpressionBase.OnAttach(DependencyObject d, DependencyProperty dp)\r\n       at System.Windows.DependencyObject.SetValueCommon(DependencyProperty dp, Object value, PropertyMetadata metadata, Boolean coerceWithDeferredReference, OperationType operationType, Boolean isInternal)\r\n       at System.Windows.DependencyObject.SetValue(DependencyProperty dp, Object value)\r\n       at System.Windows.Data.BindingOperations.SetBinding(DependencyObject target, DependencyProperty dp, BindingBase binding)\r\n       at System.Windows.FrameworkElement.SetBinding(DependencyProperty dp, BindingBase binding)\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.DevMarkerChart.AddCommonBindings(FrameworkElement marker) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DevMarkerChart.cs:line 420\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.ColumnChart.AddCommonBindings(FrameworkElement marker) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\ColumnChart.cs:line 46\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.DevMarkerChart.CreateAndAddMarker(Object dataItem, Int32 actualChildIndex) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DevMarkerChart.cs:line 205\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.DevMarkerChart.DrawAllMarkers(Boolean reuseExisting, Boolean continueAfterDataPrepaired) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DevMarkerChart.cs:line 164\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.DevMarkerChart.DrawAllMarkers(Boolean reuseExisting) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DevMarkerChart.cs:line 88\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.Markers.DevMarkerChart.OnDataSourceChanged(PointDataSourceBase prevSource, PointDataSourceBase currSource) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\DevMarkerChart.cs:line 48\r\n       at Microsoft.Research.DynamicDataDisplay.Charts.NewLine.PointChartBase.OnDataSourceChanged(DependencyObject d, DependencyPropertyChangedEventArgs e) <span style=\"color:Blue\">in</span> C:\\downloads\\dynamicdatadisplay-29304\\Nightly\\DynamicDataDisplay build 4394\\src\\DynamicDataDisplay.Markers\\PointChartBase.cs:line 270\r\n\r\n</pre>\r\n</div>\r\n</div>\r\n<div>Please help!</div>\r\n<div>Thanks very much,</div>\r\n<div>E.</div>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-11-12T16:39:02.237-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "256531",
    "ThreadId": "74955",
    "Html": "<p>Well, I looked at the BarChartPage sample and saw how Segment was being used to specify size and location, so I used that metaphore. &nbsp;Works wonderfully. &nbsp;Awesome library - wonderful samples. &nbsp;Thank you!</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2009-11-12T17:16:09.7-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]