[
  {
    "Id": "182782",
    "ThreadId": "54248",
    "Html": "Hi,<br>\r\n<br>\r\nI made two samples one using <span style=\"font-size:13px;color:#2b91af\">ObservableDataSource</span><span style=\"font-size:13px\">&lt;</span><span style=\"font-size:13px;color:#2b91af\">Point</span><span style=\"font-size:13px\">&gt;</span> and other using <span style=\"font-size:13px;color:#2b91af\">CompositeDataSource</span>. But both behaving defferently. <span style=\"font-size:13px;color:#2b91af\">CompositeDataSource </span>is giving correct data<br>\r\nI am pasting the both methods here. Please let me know how to do the same using <span style=\"font-size:13px\"><span style=\"color:#2b91af\">ObservableDataSource</span>&lt;<span style=\"color:#2b91af\">Point</span>&gt;</span> . Because I have to append the data. <span style=\"font-size:13px\"><span style=\"color:#2b91af\">ObservableDataSource</span>&lt;<span style=\"color:#2b91af\">Point</span>&gt; </span>supports better.<br>\r\n<br>\r\nWhy both methods behaving differently. Or the code I did is worng.<br>\r\n<br>\r\n//This is with <span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">ObservableDataSource</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:#2b91af\">Point</span>&gt;</span><br>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">LineGraph</span><span style=\"font-size:10pt;font-family:'courier new'\"> chart; </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">ObservableDataSource</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:#2b91af\">Point</span>&gt; source1 = <span style=\"color:blue\">null</span>; </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:blue;font-family:'courier new'\">private</span><span style=\"font-size:10pt;font-family:'courier new'\"> <span style=\"color:blue\">void</span> SimulationFromFile1()</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">{</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:green\">//this.plotter.Children.Remove(chart);</span>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     source1 = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">ObservableDataSource</span>&lt;<span style=\"color:#2b91af\">Point</span>&gt;();</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     source1.SetXYMapping(p =&gt; p);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">CultureInfo</span> culture = <span style=\"color:#2b91af\">CultureInfo</span>.InvariantCulture;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span>[] strings = <span style=\"color:#2b91af\">File</span>.ReadAllLines(<span style=\"color:#a31515\">&quot;customvalues.txt&quot;</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">         </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span> line0 = strings[0];</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span>[] subLines0 = line0.Split(<span style=\"color:#a31515\">','</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> x0 = <span style=\"color:#2b91af\">Double</span>.Parse(subLines0[0], culture);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span> lineend = strings[strings.Length-1];</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span>[] subLinesend = lineend.Split(<span style=\"color:#a31515\">','</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> xend = <span style=\"color:#2b91af\">Double</span>.Parse(subLinesend[0], culture);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">DateTime</span> starttime = <span style=\"color:#2b91af\">DateTime</span>.FromOADate(x0);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">DateTime</span> endtime = <span style=\"color:#2b91af\">DateTime</span>.FromOADate(xend);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">for</span> (<span style=\"color:blue\">int</span> i = 0; i &lt; strings.Length; i++)</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     {</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">string</span> line = strings[i];</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">string</span>[] subLines = line.Split(<span style=\"color:#a31515\">','</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">double</span> x = <span style=\"color:#2b91af\">Double</span>.Parse(subLines[0], culture);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:#2b91af\">DateTime</span> dt = <span style=\"color:#2b91af\">DateTime</span>.FromOADate(x);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">double</span> y1 = <span style=\"color:#2b91af\">Double</span>.Parse(subLines[1], culture);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:#2b91af\">Point</span> p1 = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">Point</span>(dt.ToOADate(), y1);   </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          source1.AppendAsync(Dispatcher, p1);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     }</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> xMin = dateAxis.ConvertToDouble(starttime);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> xMax = dateAxis.ConvertToDouble(endtime);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">Rect</span> visibleRect = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">Rect</span>(xMin, -12, xMax - xMin, 24);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.plotter.Viewport.Visible = visibleRect;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     chart = plotter.AddLineGraph(source1, 2, <span style=\"color:#a31515\">&quot;Data row 1&quot;</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">}</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\">//This is with <span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">CompositeDataSource</span></p>\r\n<p style=\"margin:0in 0in 0pt\"> </p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">List</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:blue\">double</span>&gt; y;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">List</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:#2b91af\">DateTime</span>&gt; date; </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">EnumerableDataSource</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:blue\">double</span>&gt; ys;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">EnumerableDataSource</span><span style=\"font-size:10pt;font-family:'courier new'\">&lt;<span style=\"color:#2b91af\">DateTime</span>&gt; xs;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:#2b91af;font-family:'courier new'\">CompositeDataSource</span><span style=\"font-size:10pt;font-family:'courier new'\"> ds;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;color:blue;font-family:'courier new'\">private</span><span style=\"font-size:10pt;font-family:'courier new'\"> <span style=\"color:blue\">void</span> SimulationFromFile2()</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">{</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">CultureInfo</span> culture = <span style=\"color:#2b91af\">CultureInfo</span>.InvariantCulture;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">string</span>[] strings = <span style=\"color:#2b91af\">File</span>.ReadAllLines(<span style=\"color:#a31515\">&quot;customvalues.txt&quot;</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">DateTime</span> starttime;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">DateTime</span> endtime;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">for</span> (<span style=\"color:blue\">int</span> i = 0; i &lt; strings.Length; i++)</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     {</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">string</span> line = strings[i];</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">string</span>[] subLines = line.Split(<span style=\"color:#a31515\">','</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          <span style=\"color:blue\">double</span> x = <span style=\"color:#2b91af\">Double</span>.Parse(subLines[0], culture);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          date.Add(<span style=\"color:#2b91af\">DateTime</span>.FromOADate(x));</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">          y.Add(<span style=\"color:#2b91af\">Double</span>.Parse(subLines[1], culture));</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     }</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> xMin = dateAxis.ConvertToDouble(date[0]);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">double</span> xMax = dateAxis.ConvertToDouble(date[date.Count-1]);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">Rect</span> visibleRect = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">Rect</span>(xMin, -12, xMax - xMin, 24);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.plotter.Viewport.Visible = visibleRect;</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.ys = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">EnumerableDataSource</span>&lt;<span style=\"color:blue\">double</span>&gt;(<span style=\"color:blue\">this</span>.y);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.ys.SetYMapping(_x =&gt; _x);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.xs = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">EnumerableDataSource</span>&lt;<span style=\"color:#2b91af\">DateTime</span>&gt;(<span style=\"color:blue\">this</span>.date);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:blue\">this</span>.xs.SetXMapping(<span style=\"color:blue\">this</span>.dateAxis.ConvertToDouble);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     <span style=\"color:#2b91af\">CompositeDataSource</span> ds = <span style=\"color:blue\">new</span> <span style=\"color:#2b91af\">CompositeDataSource</span>(xs,ys);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">     chart = <span style=\"color:blue\">this</span>.plotter.AddLineGraph(ds, 2, <span style=\"color:#a31515\">&quot;Data row 1&quot;</span>);</span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\"> </span></p>\r\n<p style=\"margin:0in 0in 0pt\"><span style=\"font-size:10pt;font-family:'courier new'\">}</span></p>\r\n</span></p>\r\n<br>\r\nHow to attach file to this forum. If required I will attach the text file what I used in this code<br>\r\n<br>\r\nRegards<br>\r\nRavi.\r\n",
    "PostedDate": "2009-04-23T06:50:41.37-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]