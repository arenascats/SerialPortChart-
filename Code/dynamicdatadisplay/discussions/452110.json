[
  {
    "Id": "1075571",
    "ThreadId": "452110",
    "Html": "Please help,\r<br />\nreceive data from the com port and draw them in real time.\r<br />\nafter 3 minutes with 5000 data points component terribly lag\r<br />\n<br />\n<strong>wpf</strong>\r<br />\n private void Window_Loaded(object sender, RoutedEventArgs e)<br />\n<pre><code>    {\n        source1 = new ObservableDataSource&lt;Point&gt;();\n        source2 = new ObservableDataSource&lt;Point&gt;();\n         chartPlotter1.AddLineGraph(source1, Colors.Green, 1, &quot;Устройство 1&quot;);\n       source2.SetXYMapping(p =&gt; p);\n        chartPlotter1.AddLineGraph(source2, Colors.Red, 1, &quot;Устройство 2&quot;);\n      }\n    Thread sim_Thread;\n    Thread data_receiver;</code></pre>\n\ndata_receiver = new Thread(DataReceiverThread);\r<br />\n   data_receiver.Priority = ThreadPriority.Highest;\r<br />\n   sim_Thread = new Thread((Simulation));<br />\n<pre><code>sim_Thread.Priority = ThreadPriority.Highest;\n</code></pre>\n\nprivate void DataReceiverThread()//receive data from port<br />\n<pre><code>    {\n        while (true)\n        {\n            byte[] data_buf = new byte[480];\n            try\n            {\n                if (serialport.BytesToRead &gt; 480)\n                {\n                    serialport.Read(data_buf, 0, 480);\n                   container.Enqueue(data_buf);\n                    data_complete_flag = true;\n                    counter++;\n                }\n\n            }\n            catch (Exception ex)\n            { }\n\n        }\n    }\n\n\n</code></pre>\n\nprivate void Simulation()//drawing<br />\n<pre><code>    {\n        int icount = 0;\n        try\n        {\n            while (true)\n            {      \n                if (icount &lt; counter)\n                    if (data_complete_flag)\n                      if ( paket.Parce(container.ElementAt(icount)))\n                        { for (int p=0;p&lt;35;p++)\n                                    {\n                                y = paket.pressure_counter_data1[p];</code></pre>\n\nif (((x = paket.pressure_counter_time1[p]) != 0) &amp;&amp; ( y&gt; 0) &amp;&amp; (y &lt;111001))<br />\n<pre><code>                                        {\n                                        Point p1 = new Point(x, y);\n                                        source1.AppendAsync(Dispatcher, p1);\n                                        }\n                                       v = paket.pressure_counter_data2[p];\n if (((z = paket.pressure_counter_time2[p]) != 0) &amp;&amp; (v&gt;0) &amp;&amp; (v  &lt;111001))\n                                        {\n                                            Point p2 = new Point(z, v);\n                                            source2.AppendAsync(Dispatcher, p2);\n                                       }\n                                     }\n                 icount++;\n                       }\n\n            }\n        }\n        catch (Exception ex)\n        { int l = 0; }\n    }</code></pre>\n\nhow to display the incoming data quickly for a few minutes in real time?<br />\n",
    "PostedDate": "2013-08-01T07:00:30.27-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]